<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {% seo %}
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">

    <!-- Antigravity cursor & canvas styling -->
    <style>
      body {
        cursor: none;
      }

      .cursor {
        position: fixed;
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background: rgba(0, 0, 0, 0.85);
        pointer-events: none;
        transform: translate(-50%, -50%);
        z-index: 9999;
        transition: transform 0.08s ease-out;
      }

      #antigravityCanvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 0;
      }

      .wrapper {
        position: relative;
        z-index: 1;
      }
    </style>

    <!--[if lt IE 9]>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

    {% include head-custom.html %}
  </head>

  <body>
    <!-- Custom cursor -->
    <div class="cursor"></div>

    <!-- Particle canvas -->
    <canvas id="antigravityCanvas"></canvas>

    <div class="wrapper">
      <header>
        <h1>
          <a href="{{ "/" | absolute_url }}">
            {{ site.title | default: site.github.repository_name }}
          </a>
        </h1>

        {% if site.logo %}
          <img src="{{ site.logo | relative_url }}" alt="Logo" />
        {% endif %}

        <p>{{ site.description | default: site.github.project_tagline }}</p>

        {% if site.github.is_project_page %}
          <p class="view">
            <a href="{{ site.github.repository_url }}">
              View the Project on GitHub
              <small>{{ site.github.repository_nwo }}</small>
            </a>
          </p>
        {% endif %}

        {% if site.github.is_user_page %}
          <p class="view">
            <a href="{{ site.github.owner_url }}">
              View My GitHub Profile
            </a>
          </p>
        {% endif %}

        {% if site.show_downloads %}
          <ul class="downloads">
            <li>
              <a href="{{ site.github.zip_url }}">
                Download <strong>ZIP File</strong>
              </a>
            </li>
            <li>
              <a href="{{ site.github.tar_url }}">
                Download <strong>TAR Ball</strong>
              </a>
            </li>
            <li>
              <a href="{{ site.github.repository_url }}">
                View On <strong>GitHub</strong>
              </a>
            </li>
          </ul>
        {% endif %}

        <p class="view">
          <a href="https://www.linkedin.com/in/patilsankalp/">
            Visit my Linkedin profile
          </a>
        </p>

        <p class="view">
          <a href="https://www.researchgate.net/profile/Sankalp-Patil-2">
            Checkout my ResearchGate profile
          </a>
        </p>
      </header>

      <section>
        {{ content }}
      </section>

      <footer>
        {% if site.github.is_project_page %}
          <p>
            This project is maintained by
            <a href="{{ site.github.owner_url }}">
              {{ site.github.owner_name }}
            </a>
          </p>
        {% endif %}

        <p>
          <small>
            Hosted on GitHub Pages &mdash;
            Theme by <a href="https://github.com/orderedlist">orderedlist</a>
          </small>
        </p>
      </footer>
    </div>

    <script src="{{ "/assets/js/scale.fix.js" | relative_url }}"></script>

    <!-- Antigravity interaction script -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {

        /* ---------------- Cursor ---------------- */
        const cursor = document.querySelector(".cursor");
        document.addEventListener("mousemove", (e) => {
          cursor.style.left = e.clientX + "px";
          cursor.style.top = e.clientY + "px";
        });

        /* ---------------- Canvas ---------------- */
        const canvas = document.getElementById("antigravityCanvas");
        const ctx = canvas.getContext("2d");

        function resize() {
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
        }
        window.addEventListener("resize", resize);
        resize();

        const particles = [];
        const NUM = 160;
        const RADIUS = 120;
        const FORCE = 0.18;

        let mouse = { x: null, y: null };

        document.addEventListener("mousemove", (e) => {
          mouse.x = e.clientX;
          mouse.y = e.clientY;
        });

        document.addEventListener("mouseleave", () => {
          mouse.x = null;
          mouse.y = null;
        });

        class Particle {
          constructor() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height;
            this.vx = (Math.random() - 0.5) * 0.6;
            this.vy = (Math.random() - 0.5) * 0.6;
            this.r = Math.random() * 2 + 1;
            this.a = Math.random() * 0.5 + 0.2;
          }

          update() {
            if (mouse.x !== null) {
              const dx = this.x - mouse.x;
              const dy = this.y - mouse.y;
              const d = Math.sqrt(dx * dx + dy * dy);

              if (d < RADIUS) {
                const f = (RADIUS - d) / RADIUS;
                const ang = Math.atan2(dy, dx);
                this.vx += Math.cos(ang) * f * FORCE;
                this.vy += Math.sin(ang) * f * FORCE;
              }
            }

            this.vx *= 0.96;
            this.vy *= 0.96;
            this.x += this.vx;
            this.y += this.vy;

            if (this.x < 0) this.x = canvas.width;
            if (this.x > canvas.width) this.x = 0;
            if (this.y < 0) this.y = canvas.height;
            if (this.y > canvas.height) this.y = 0;
          }

          draw() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2);
            ctx.fillStyle = `rgba(200,200,255,${this.a})`;
            ctx.fill();
          }
        }

        for (let i = 0; i < NUM; i++) {
          particles.push(new Particle());
        }

        function animate() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          particles.forEach(p => {
            p.update();
            p.draw();
          });
          requestAnimationFrame(animate);
        }

        animate();
      });
    </script>
  </body>
</html>
